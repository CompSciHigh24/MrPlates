<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/images/star.png" type="image/gif" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Menu</title>
  <link rel="stylesheet" href="/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&family=Lexend:wght@100..900&display=swap" rel="stylesheet">
  
</head>

  <body style="background-image:url('/images/bg.png'), linear-gradient( rgba(225,225,225,1), rgba(225,225,225,0));background-attachment: fixed;">
    <!--Navbar containing the "Home", "Menu", and "Schedule" pages  -->
  <nav class="navbar navbar-expand-sm navbar-light" style="margin-bottom:-70px !important;">
      <div class="mx-auto d-sm-flex d-block flex-sm-nowrap">
       
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample11" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse text-center" id="navbarsExample11">
              <ul class="navbar-nav">
                <li>
                  <img id="logo" src="/images/logo.png" width="250" height="auto" >
                </li>
                  <li class="nav-item active">
                      <a id="hover-underline-animation" style="margin-top:40px !important; font-size:30px !important"class="nav-link" href="/">Home</a>
                  </li>
                  <li class="nav-item">
                      <a id="hover-underline-animation" style="margin-top:40px !important; font-size:30px !important; color:rgba(91, 192, 235, 1) !important;" class="nav-link" href="/menu">Menu</a>
                  </li>
                  <li class="nav-item">
                      <a id="hover-underline-animation" style="margin-top:40px !important; font-size:30px !important" class="nav-link" href="/schedule">Schedule</a>
                  </li>
              </ul>
          </div>
      </div>
  </nav>
    <br>
  <center>
    <svg id="fader">
  <h1>Edit Menu</h1>
     <span class="text-muted">*IMPORTANT*: When you input a new value, also input the previous information that you did not change </span>
    <br>

    <a id="hover-underline-animation" style="font-size:25px !important; color:rgba(91, 192, 235, 1) !important; margin-right:20px !important" href="/adminPage">Add Item</a>

    <a id="hover-underline-animation" style="font-size:25px !important; color:rgba(91, 192, 235, 1) !important; margin-left:20px !important" href="/orderConfirmation/dashboard">Dashboard</a>
    <br>
    <br>
  </center>
  <!-- Loop that makes a card for every food item and displays the normal info.-->
  <div class="section">
   <% for(let i = 0; i < foods.length; i++) { %>
     <div class="d-flex flex-row col-md-3">
     <div id="menuCard" class="card mx-auto" style="width: 18rem; animation: 1.5s ease-out 0s 1 fadeIn;">

       
       <% if(foods[i].imgUrl.includes("https")){ %>
          <img id="foodItem" class="card-img-top data-mdb-ripple-init" src="<%= foods[i].imgUrl%>" alt="Card image cap"  style="max-width: 250px !important; height: 200px !important; object-fit: cover !important; object-position: 50% 50% !important;">
       <% }else{ %>
        <img id="foodItem" class="card-img-top data-mdb-ripple-init" src="/images/<%= foods[i].imgUrl%>" alt="Card image cap"  style="max-width: 250px !important; height: 200px !important; object-fit: cover !important; object-position: 50% 50% !important;">
       <% } %>
       
       <div class="card-body">
         <h1 id="cardTitle" class="card-title"><%= foods[i].foodName %></h1>
         <p class="card-text">Allergens: <%= foods[i].allergens %> </p>
           
           
<!--Above the edit form is the delete button where Toure can click on it to remove the menu item  -->
               <button class='deleteButton' data-id="<%= foods[i]._id %>" id="rsvp">Delete</button>
                <br>
          <br>
         <!--A form is created for each item. Toure can update the item information and then click submit. The only drawback is that he has to fill in inofrmation for all fields in order to updat the ite info, or else it will all be deleted. "Name", "Allergens", "Price", "Item Number" and "Description" are all input values-->
               <form class="updateForm" data-id="<%= foods[i]._id %>">
                 Name: <input type="text" name ="foodName">
                 Allergens: <input type="text" name ="allergens">
                 Price: <input type="number" name ="price">
                 Item Number: <input type="number" name ="itemNumber">
                 Description: <input type="text" name ="description">
                  <br>
                 <br>
                 <!-- Submit Button -->
                 <button type="submit" id="rsvp"/>Edit</button>
               </form>
               
                  
            
             
                
        
       </div>
     </div>
     </div>
     <% } %>
  </div>
      
 
     </svg>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
       <script src="/editItems.js" defer></script>
        <script src="/pageFade.js" defer></script>
</body>
</html>